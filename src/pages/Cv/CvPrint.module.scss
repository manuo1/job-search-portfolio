@use "../../styles/cv-variables";

@media print {
  // Hide navbar
  :global(header),
  :global(.header),
  :global(nav),
  :global(.navbar),
  :global(.navigation) {
    display: none !important;
  }

  @page {
    size: A4;
    margin: 0.4cm;
    margin-right: 0;
  }

  .cvContainer {
    max-width: 100% !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    box-shadow: none !important;
    background: cv-variables.$cv-color-background !important;
    min-height: 100vh !important;
    height: auto !important;
    page-break-inside: avoid;
    break-inside: avoid;
  }

  .sidebar {
    width: 35% !important;
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
    background: cv-variables.$cv-color-sidebar-background !important;
    color: cv-variables.$cv-color-text-inverse !important;
    padding: 25px 20px !important;
    page-break-inside: avoid;
    break-inside: avoid;

    > * {
      color: cv-variables.$cv-color-text-inverse !important;
    }
  }

  .mainContent {
    width: 65% !important;
    padding: 25px 25px !important;
    page-break-inside: avoid;
    break-inside: avoid;
  }

  :global(*) {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  :global(.print-hide) {
    display: none !important;
  }

  :global(body) {
    font-size: 12px !important;
    line-height: 1.4 !important;
    color: #333 !important;
    background: white !important;
  }

  :global(h1),
  :global(h2),
  :global(h3),
  :global(h4),
  :global(h5),
  :global(h6) {
    margin-top: 0 !important;
    margin-bottom: 8px !important;
    page-break-after: avoid;
    break-after: avoid;
  }

  :global(p),
  :global(li) {
    margin-bottom: 4px !important;
    line-height: 1.3 !important;
  }

  :global(ul),
  :global(ol) {
    margin-bottom: 10px !important;
    padding-left: 15px !important;
  }

  :global(.experience-item),
  :global(.formation-item),
  :global(.skills-section),
  :global(.contact-section),
  :global(.profile-section) {
    page-break-inside: avoid;
    break-inside: avoid;
    margin-bottom: 12px !important;
  }

  :global(.highlight),
  :global(.skill-tag),
  :global(.section-title) {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  :global(.skill-tag) {
    font-size: 10px !important;
    padding: 2px 6px !important;
    margin: 2px !important;
  }
  :global(a) {
    color: inherit !important;
    text-decoration: none !important;
  }

  :global(*) {
    max-width: 100% !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }

  :global(img) {
    max-width: 100% !important;
    height: auto !important;
    page-break-inside: avoid;
  }
}

// === ATS Keywords (only for print version) ===
.atsKeywords {
  position: absolute;
  left: -9999px;
  top: -9999px;
  font-size: 0;

  @media print {
    position: static;
    left: auto;
    top: auto;
    overflow: hidden;

    color: white;
    font-size: 1px;
    line-height: 1;

    &::after {
      content: "Informations complémentaires : Je n'ai pas de diplôme Bac+5, mais mon expérience en développement logiciel couvre l'ensemble du cycle de vie des applications back-end et front-end. J'ai conçu et développé des systèmes complexes en Python et Django, créé des interfaces réactives avec React et JavaScript, optimisé la performance et la scalabilité des services, géré la persistance des données sur PostgreSQL et Redis, automatisé les tâches avec Celery, mis en place des pipelines CI/CD, supervisé le monitoring et la fiabilité des applications en production, et collaboré avec des équipes Agile multidisciplinaires. Mon parcours m'a permis de maîtriser la conception d'API REST, l'intégration IoT, la gestion de microservices, le déploiement Docker et la supervision via Sentry et Datadog, tout en respectant les bonnes pratiques de développement, les tests automatisés et l'architecture orientée performance et résilience.";
      font-weight: bold;
    }
  }
}
